<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pomodoro Timer</title>
<style>
body {
  font-family: -apple-system, BlinkMacSystemFont;
  text-align: center;
  background: #f5f5f5;
  margin-top: 60px;
}

h1 {
  font-weight: 600;
}

svg {
  transform: rotate(-90deg);
}

circle {
  fill: none;
  stroke-width: 15;
}

#bg {
  stroke: #ddd;
}

#progress {
  stroke: red;
  stroke-linecap: round;
  transition: stroke 0.3s;
}

#time {
  font-size: 40px;
  font-weight: bold;
  margin-top: -160px;
}

button {
  margin-top: 40px;
  padding: 15px 40px;
  font-size: 18px;
  border-radius: 10px;
  border: none;
  background: black;
  color: white;
}
</style>
</head>
<body>

<h1 id="mode">üçÖ Work</h1>

<svg width="250" height="250">
  <circle id="bg" cx="125" cy="125" r="100"></circle>
  <circle id="progress" cx="125" cy="125" r="100"
    stroke-dasharray="628"
    stroke-dashoffset="0">
  </circle>
</svg>

<div id="time">25:00</div>

<button onclick="toggleTimer()">Start</button>

<script>
let workTime = 25 * 60;
let breakTime = 5 * 60;
let totalTime = workTime;
let timeLeft = workTime;
let isRunning = false;
let isWork = true;
let timer;

const circumference = 2 * Math.PI * 100;
const progressCircle = document.getElementById("progress");

function updateDisplay() {
  let minutes = Math.floor(timeLeft / 60);
  let seconds = timeLeft % 60;
  document.getElementById("time").innerText =
    String(minutes).padStart(2,'0') + ":" +
    String(seconds).padStart(2,'0');

  let progress = timeLeft / totalTime;
  progressCircle.style.strokeDashoffset =
    circumference * (1 - progress);
}

function switchMode() {
  isWork = !isWork;
  totalTime = isWork ? workTime : breakTime;
  timeLeft = totalTime;

  document.getElementById("mode").innerText =
    isWork ? "üçÖ Work" : "‚òï Break";

  progressCircle.style.stroke =
    isWork ? "red" : "blue";

  alert(isWork ? "‰ΩúÊ•≠ÈñãÂßãÔºÅ" : "‰ºëÊÜ©ÈñãÂßãÔºÅ");
}

function toggleTimer() {
  if (isRunning) {
    clearInterval(timer);
    document.querySelector("button").innerText = "Start";
  } else {
    timer = setInterval(() => {
      if (timeLeft > 0) {
        timeLeft--;
        updateDisplay();
      } else {
        switchMode();
      }
    }, 1000);
    document.querySelector("button").innerText = "Stop";
  }
  isRunning = !isRunning;
}

updateDisplay();
</script>

</body>
</html>
